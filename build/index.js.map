{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wp-admin/./src/App.js","webpack://wp-admin/external window [\"wp\",\"apiFetch\"]","webpack://wp-admin/external window [\"wp\",\"element\"]","webpack://wp-admin/external window \"ReactJSXRuntime\"","webpack://wp-admin/webpack/bootstrap","webpack://wp-admin/webpack/runtime/compat get default export","webpack://wp-admin/webpack/runtime/define property getters","webpack://wp-admin/webpack/runtime/hasOwnProperty shorthand","webpack://wp-admin/webpack/runtime/make namespace object","webpack://wp-admin/./src/index.js"],"sourcesContent":["import apiFetch from \"@wordpress/api-fetch\";\n\nconst useState = wp.element.useState;\nconst useEffect = wp.element.useEffect;\n\nconst updateOptions = async (options) => {\n  await apiFetch({\n    method: \"POST\",\n    path: \"/cords/v1/options\",\n    data: options,\n  });\n};\n\nconst updatePage = async ({ id, meta }) => {\n  await apiFetch({\n    method: \"POST\",\n    path: `/wp/v2/pages/${id}`,\n    data: {\n      meta,\n    },\n  });\n};\n\nconst App = () => {\n  const [pages, setPages] = useState(null);\n  const [options, setOptions] = useState({\n    api_key: \"\",\n  });\n  const [load, setLoad] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const perPage = 10; // show 10 items per page\n  console.log(pages);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      // Fetch pages with pagination\n      const response = await apiFetch({\n        path: `/wp/v2/pages?page=${currentPage}&per_page=${perPage}`,\n        parse: false, // we need headers\n      });\n\n      const data = await response.json();\n\n      // Get total pages from response headers\n      const total = parseInt(response.headers.get(\"X-WP-TotalPages\"), 10);\n      setTotalPages(total);\n\n      setPages(data);\n\n      // Fetch your options as before\n      const opts = await apiFetch({ path: \"/cords/v1/options\" });\n      setOptions(opts);\n\n      setLoad(false);\n    };\n\n    fetchData();\n  }, [load]);\n\n  const nextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n      setLoad(true);\n    }\n  };\n\n  const prevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n      setLoad(true);\n    }\n  };\n\n  return (\n    <div style={{ paddingRight: \"1rem\" }}>\n      <h1>CORDS</h1>\n      <p>Welcome to the CORDS admin dashboard.</p>\n      <hr />\n      <h3>Pages</h3>\n      <p>\n        Select which pages you would like to enable CORDS and/or the widget on.\n      </p>\n      <table className=\"wp-list-table widefat fixed striped table-view-list\">\n        <thead>\n          <tr>\n            <th>Title</th>\n            <th>CORDS Widget</th>\n          </tr>\n        </thead>\n        <tbody>\n          {pages !== null &&\n            pages.map((page) => (\n              <tr key={page.id}>\n                <td\n                  dangerouslySetInnerHTML={{\n                    __html: page.title.rendered.length\n                      ? page.title.rendered\n                      : \"No Title\",\n                  }}\n                ></td>\n                {/* <td>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tname=\"enabled\"\n\t\t\t\t\t\t\t\t\t\tvalue={page.meta.cords_enabled ? \"true\" : \"false\"}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tupdatePage({\n\t\t\t\t\t\t\t\t\t\t\t\tid: page.id,\n\t\t\t\t\t\t\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...page.meta,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcords_enabled: e.target.value === \"true\",\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetLoad(true);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td> */}\n                <td>\n                  <select\n                    name=\"enabled\"\n                    value={page.meta.cords_widget ? \"true\" : \"false\"}\n                    onChange={(e) => {\n                      updatePage({\n                        id: page.id,\n                        meta: {\n                          ...page.meta,\n                          cords_widget: e.target.value === \"true\",\n                        },\n                      }).then(() => {\n                        setLoad(true);\n                      });\n                    }}\n                  >\n                    <option value=\"true\">Show</option>\n                    <option value=\"false\">Hide</option>\n                  </select>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n      {/* Pagination Controls */}\n      <div\n        style={{\n          marginTop: \"1rem\",\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"1rem\",\n        }}\n      >\n        <button\n          onClick={prevPage}\n          disabled={currentPage === 1}\n          className=\"button\"\n        >\n          ← Previous\n        </button>\n        <span>\n          Page {currentPage} of {totalPages}\n        </span>\n        <button\n          onClick={nextPage}\n          disabled={currentPage === totalPages}\n          className=\"button\"\n        >\n          Next →\n        </button>\n      </div>\n      <h3>API Key</h3>\n      <p>\n        Enter your CORDS API key below. This can be found at{\" \"}\n        <a href=\"https://partners.cords.ai\">https://partners.cords.ai</a>\n      </p>\n      <input\n        type=\"text\"\n        value={options.api_key}\n        onChange={(e) => {\n          setOptions({\n            api_key: e.target.value,\n          });\n        }}\n      />\n      <button\n        onClick={() => {\n          updateOptions(options);\n        }}\n      >\n        Save\n      </button>\n    </div>\n  );\n};\n\nexport default App;\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { render } from \"@wordpress/element\";\nimport App from \"./App\";\n\n// Render the App component into the DOM\nrender(<App />, document.getElementById(\"cords\"));\n"],"names":["apiFetch","jsx","_jsx","jsxs","_jsxs","useState","wp","element","useEffect","updateOptions","options","method","path","data","updatePage","id","meta","App","pages","setPages","setOptions","api_key","load","setLoad","currentPage","setCurrentPage","totalPages","setTotalPages","perPage","console","log","fetchData","response","parse","json","total","parseInt","headers","get","opts","nextPage","prevPage","style","paddingRight","children","className","map","page","dangerouslySetInnerHTML","__html","title","rendered","length","name","value","cords_widget","onChange","e","target","then","marginTop","display","alignItems","gap","onClick","disabled","href","type","render","document","getElementById"],"sourceRoot":""}