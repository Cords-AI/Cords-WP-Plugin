(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,n=window.wp.apiFetch;var a=e.n(n);const d=window.ReactJSXRuntime,r=wp.element.useState,s=wp.element.useEffect,i=()=>{const[e,t]=r(null),[n,i]=r({api_key:""}),[l,h]=r(!0);return s((()=>{a()({path:"/wp/v2/pages"}).then((e=>{t(e)})),a()({path:"/cords/v1/options"}).then((e=>{i(e)})),h(!1)}),[l]),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:"CORDS"}),(0,d.jsx)("p",{children:"Welcome to the CORDS admin dashboard."}),(0,d.jsx)("hr",{}),(0,d.jsx)("h3",{children:"Pages"}),(0,d.jsx)("p",{children:"Select which pages you would like to enable CORDS and/or the widget on."}),(0,d.jsxs)("table",{className:"wp-list-table widefat fixed striped table-view-list",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Title"}),(0,d.jsx)("th",{children:"CORDS Widget"})]})}),(0,d.jsx)("tbody",{children:null!==e&&e.map((e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.title.rendered.length?e.title.rendered:"No Title"}),(0,d.jsx)("td",{children:(0,d.jsxs)("select",{name:"enabled",value:e.meta.cords_widget?"true":"false",onChange:t=>{(async({id:e,meta:t})=>{await a()({method:"POST",path:`/wp/v2/pages/${e}`,data:{meta:t}})})({id:e.id,meta:{...e.meta,cords_widget:"true"===t.target.value}}).then((()=>{h(!0)}))},children:[(0,d.jsx)("option",{value:"true",children:"Show"}),(0,d.jsx)("option",{value:"false",children:"Hide"})]})})]},e.id)))})]}),(0,d.jsx)("h3",{children:"API Key"}),(0,d.jsxs)("p",{children:["Enter your CORDS API key below. This can be found at"," ",(0,d.jsx)("a",{href:"https://partners.cords.ai",children:"https://partners.cords.ai"})]}),(0,d.jsx)("input",{type:"text",value:n.api_key,onChange:e=>{i({api_key:e.target.value})}}),(0,d.jsx)("button",{onClick:()=>{(async e=>{await a()({method:"POST",path:"/cords/v1/options",data:e})})(n)},children:"Save"})]})};(0,t.render)((0,d.jsx)(i,{}),document.getElementById("cords"))})();