(()=>{"use strict";var e={n:t=>{var l=t&&t.__esModule?()=>t.default:()=>t;return e.d(l,{a:l}),l},d:(t,l)=>{for(var a in l)e.o(l,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:l[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,l=window.wp.apiFetch;var a=e.n(l);const n=wp.element.useState,r=wp.element.useEffect;(0,t.render)((0,t.createElement)((()=>{const[e,l]=n(null),[c,o]=n({api_key:""}),[d,i]=n(!0);return r((()=>{a()({path:"/wp/v2/pages"}).then((e=>{l(e)})),a()({path:"/cords/v1/options"}).then((e=>{o(e)})),i(!1)}),[d]),(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"CORDS"),(0,t.createElement)("p",null,"Welcome to the CORDS admin dashboard."),(0,t.createElement)("hr",null),(0,t.createElement)("h3",null,"Pages"),(0,t.createElement)("p",null,"Select which pages you would like to enable CORDS and/or the widget on."),(0,t.createElement)("table",{className:"wp-list-table widefat fixed striped table-view-list"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Title"),(0,t.createElement)("th",null,"CORDS Widget"))),(0,t.createElement)("tbody",null,null!==e&&e.map((e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,e.title.rendered.length?e.title.rendered:"No Title"),(0,t.createElement)("td",null,(0,t.createElement)("select",{name:"enabled",value:e.meta.cords_widget?"true":"false",onChange:t=>{(async({id:e,meta:t})=>{await a()({method:"POST",path:`/wp/v2/pages/${e}`,data:{meta:t}})})({id:e.id,meta:{...e.meta,cords_widget:"true"===t.target.value}}).then((()=>{i(!0)}))}},(0,t.createElement)("option",{value:"true"},"Show"),(0,t.createElement)("option",{value:"false"},"Hide")))))))),(0,t.createElement)("h3",null,"API Key"),(0,t.createElement)("p",null,"Enter your CORDS API key below. This can be found at"," ",(0,t.createElement)("a",{href:"https://partners.cords.ai"},"https://partners.cords.ai")),(0,t.createElement)("input",{type:"text",value:c.api_key,onChange:e=>{o({api_key:e.target.value})}}),(0,t.createElement)("button",{onClick:()=>{(async e=>{await a()({method:"POST",path:"/cords/v1/options",data:e})})(c)}},"Save"))}),null),document.getElementById("cords"))})();